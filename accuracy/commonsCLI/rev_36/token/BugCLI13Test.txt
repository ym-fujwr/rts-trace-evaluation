package
org
.
apache
.
commons
.
cli
.
bug
;
import
static
org
.
junit
.
Assert
.
assertEquals
;
import
static
org
.
junit
.
Assert
.
assertTrue
;
import
org
.
apache
.
commons
.
cli
.
CommandLine
;
import
org
.
apache
.
commons
.
cli
.
Option
;
import
org
.
apache
.
commons
.
cli
.
OptionBuilder
;
import
org
.
apache
.
commons
.
cli
.
Options
;
import
org
.
apache
.
commons
.
cli
.
ParseException
;
import
org
.
apache
.
commons
.
cli
.
PosixParser
;
import
org
.
junit
.
Test
;
@
SuppressWarnings
(
"deprecation"
)
public
class
BugCLI13Test
{
@
Test
public
void
testCLI13
(
)
throws
ParseException
{
final
String
debugOpt
=
"debug"
;
@
SuppressWarnings
(
"static-access"
)
final
Option
debug
=
OptionBuilder
.
withArgName
(
debugOpt
)
.
withDescription
(
"turn on debugging"
)
.
withLongOpt
(
debugOpt
)
.
hasArg
(
)
.
create
(
'd'
)
;
final
Options
options
=
new
Options
(
)
;
options
.
addOption
(
debug
)
;
final
CommandLine
commandLine
=
new
PosixParser
(
)
.
parse
(
options
,
new
String
[
]
{
"-d"
,
"true"
}
)
;
assertEquals
(
"true"
,
commandLine
.
getOptionValue
(
debugOpt
)
)
;
assertEquals
(
"true"
,
commandLine
.
getOptionValue
(
'd'
)
)
;
assertTrue
(
commandLine
.
hasOption
(
'd'
)
)
;
assertTrue
(
commandLine
.
hasOption
(
debugOpt
)
)
;
}
}
<EOF>
