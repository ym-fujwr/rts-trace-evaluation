package
org
.
apache
.
commons
.
jxpath
.
servlet
;
import
java
.
util
.
Enumeration
;
import
java
.
util
.
HashSet
;
import
javax
.
servlet
.
jsp
.
PageContext
;
import
org
.
apache
.
commons
.
jxpath
.
DynamicPropertyHandler
;
public
class
PageContextHandler
implements
DynamicPropertyHandler
{
@
Override
public
String
[
]
getPropertyNames
(
final
Object
pageContext
)
{
final
HashSet
list
=
new
HashSet
(
)
;
Enumeration
e
=
(
(
PageContext
)
pageContext
)
.
getAttributeNamesInScope
(
PageContext
.
PAGE_SCOPE
)
;
while
(
e
.
hasMoreElements
(
)
)
{
list
.
add
(
e
.
nextElement
(
)
)
;
}
e
=
(
(
PageContext
)
pageContext
)
.
getAttributeNamesInScope
(
PageContext
.
REQUEST_SCOPE
)
;
while
(
e
.
hasMoreElements
(
)
)
{
list
.
add
(
e
.
nextElement
(
)
)
;
}
e
=
(
(
PageContext
)
pageContext
)
.
getAttributeNamesInScope
(
PageContext
.
SESSION_SCOPE
)
;
while
(
e
.
hasMoreElements
(
)
)
{
list
.
add
(
e
.
nextElement
(
)
)
;
}
e
=
(
(
PageContext
)
pageContext
)
.
getAttributeNamesInScope
(
PageContext
.
APPLICATION_SCOPE
)
;
while
(
e
.
hasMoreElements
(
)
)
{
list
.
add
(
e
.
nextElement
(
)
)
;
}
return
(
String
[
]
)
list
.
toArray
(
new
String
[
list
.
size
(
)
]
)
;
}
@
Override
public
Object
getProperty
(
final
Object
pageContext
,
final
String
property
)
{
return
(
(
PageContext
)
pageContext
)
.
findAttribute
(
property
)
;
}
@
Override
public
void
setProperty
(
final
Object
pageContext
,
final
String
property
,
final
Object
value
)
{
(
(
PageContext
)
pageContext
)
.
setAttribute
(
property
,
value
,
PageContext
.
PAGE_SCOPE
)
;
}
}
<EOF>
