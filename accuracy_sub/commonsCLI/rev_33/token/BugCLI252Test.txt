package
org
.
apache
.
commons
.
cli
.
bug
;
import
static
org
.
junit
.
jupiter
.
api
.
Assertions
.
assertThrows
;
import
org
.
apache
.
commons
.
cli
.
AmbiguousOptionException
;
import
org
.
apache
.
commons
.
cli
.
DefaultParser
;
import
org
.
apache
.
commons
.
cli
.
Option
;
import
org
.
apache
.
commons
.
cli
.
Options
;
import
org
.
apache
.
commons
.
cli
.
ParseException
;
import
org
.
junit
.
Test
;
public
class
BugCLI252Test
{
private
Options
getOptions
(
)
{
final
Options
options
=
new
Options
(
)
;
options
.
addOption
(
Option
.
builder
(
)
.
longOpt
(
"prefix"
)
.
build
(
)
)
;
options
.
addOption
(
Option
.
builder
(
)
.
longOpt
(
"prefixplusplus"
)
.
build
(
)
)
;
return
options
;
}
@
Test
public
void
testAmbiquousOptionName
(
)
{
assertThrows
(
AmbiguousOptionException
.
class
,
(
)
->
new
DefaultParser
(
)
.
parse
(
getOptions
(
)
,
new
String
[
]
{
"--pref"
}
)
)
;
}
@
Test
public
void
testExactOptionNameMatch
(
)
throws
ParseException
{
new
DefaultParser
(
)
.
parse
(
getOptions
(
)
,
new
String
[
]
{
"--prefix"
}
)
;
}
}
<EOF>
