package
org
.
apache
.
commons
.
net
.
daytime
;
import
java
.
io
.
BufferedReader
;
import
java
.
io
.
IOException
;
import
java
.
io
.
InputStreamReader
;
import
org
.
apache
.
commons
.
net
.
SocketClient
;
public
final
class
DaytimeTCPClient
extends
SocketClient
{
public
static
final
int
DEFAULT_PORT
=
13
;
private
final
char
[
]
buffer
=
new
char
[
64
]
;
public
DaytimeTCPClient
(
)
{
setDefaultPort
(
DEFAULT_PORT
)
;
}
public
String
getTime
(
)
throws
IOException
{
int
read
;
final
StringBuilder
result
=
new
StringBuilder
(
buffer
.
length
)
;
final
BufferedReader
reader
;
reader
=
new
BufferedReader
(
new
InputStreamReader
(
_input_
,
getCharset
(
)
)
)
;
while
(
true
)
{
read
=
reader
.
read
(
buffer
,
0
,
buffer
.
length
)
;
if
(
read
<=
0
)
{
break
;
}
result
.
append
(
buffer
,
0
,
read
)
;
}
return
result
.
toString
(
)
;
}
}
<EOF>
