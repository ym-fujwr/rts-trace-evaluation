package
org
.
apache
.
commons
.
net
.
nntp
;
import
java
.
util
.
Calendar
;
public
final
class
NewGroupsOrNewsQuery
{
private
final
String
date
,
time
;
private
StringBuffer
distributions
;
private
StringBuffer
newsgroups
;
private
final
boolean
isGMT
;
public
NewGroupsOrNewsQuery
(
final
Calendar
date
,
final
boolean
gmt
)
{
int
num
;
String
str
;
final
StringBuilder
buffer
;
this
.
distributions
=
null
;
this
.
newsgroups
=
null
;
this
.
isGMT
=
gmt
;
buffer
=
new
StringBuilder
(
)
;
num
=
date
.
get
(
Calendar
.
YEAR
)
;
str
=
Integer
.
toString
(
num
)
;
num
=
str
.
length
(
)
;
if
(
num
>=
2
)
{
buffer
.
append
(
str
.
substring
(
num
-
2
)
)
;
}
else
{
buffer
.
append
(
"00"
)
;
}
num
=
date
.
get
(
Calendar
.
MONTH
)
+
1
;
str
=
Integer
.
toString
(
num
)
;
num
=
str
.
length
(
)
;
if
(
num
==
1
)
{
buffer
.
append
(
'0'
)
;
buffer
.
append
(
str
)
;
}
else
if
(
num
==
2
)
{
buffer
.
append
(
str
)
;
}
else
{
buffer
.
append
(
"01"
)
;
}
num
=
date
.
get
(
Calendar
.
DAY_OF_MONTH
)
;
str
=
Integer
.
toString
(
num
)
;
num
=
str
.
length
(
)
;
if
(
num
==
1
)
{
buffer
.
append
(
'0'
)
;
buffer
.
append
(
str
)
;
}
else
if
(
num
==
2
)
{
buffer
.
append
(
str
)
;
}
else
{
buffer
.
append
(
"01"
)
;
}
this
.
date
=
buffer
.
toString
(
)
;
buffer
.
setLength
(
0
)
;
num
=
date
.
get
(
Calendar
.
HOUR_OF_DAY
)
;
str
=
Integer
.
toString
(
num
)
;
num
=
str
.
length
(
)
;
if
(
num
==
1
)
{
buffer
.
append
(
'0'
)
;
buffer
.
append
(
str
)
;
}
else
if
(
num
==
2
)
{
buffer
.
append
(
str
)
;
}
else
{
buffer
.
append
(
"00"
)
;
}
num
=
date
.
get
(
Calendar
.
MINUTE
)
;
str
=
Integer
.
toString
(
num
)
;
num
=
str
.
length
(
)
;
if
(
num
==
1
)
{
buffer
.
append
(
'0'
)
;
buffer
.
append
(
str
)
;
}
else
if
(
num
==
2
)
{
buffer
.
append
(
str
)
;
}
else
{
buffer
.
append
(
"00"
)
;
}
num
=
date
.
get
(
Calendar
.
SECOND
)
;
str
=
Integer
.
toString
(
num
)
;
num
=
str
.
length
(
)
;
if
(
num
==
1
)
{
buffer
.
append
(
'0'
)
;
buffer
.
append
(
str
)
;
}
else
if
(
num
==
2
)
{
buffer
.
append
(
str
)
;
}
else
{
buffer
.
append
(
"00"
)
;
}
this
.
time
=
buffer
.
toString
(
)
;
}
public
void
addDistribution
(
final
String
distribution
)
{
if
(
distributions
!=
null
)
{
distributions
.
append
(
','
)
;
}
else
{
distributions
=
new
StringBuffer
(
)
;
}
distributions
.
append
(
distribution
)
;
}
public
void
addNewsgroup
(
final
String
newsgroup
)
{
if
(
newsgroups
!=
null
)
{
newsgroups
.
append
(
','
)
;
}
else
{
newsgroups
=
new
StringBuffer
(
)
;
}
newsgroups
.
append
(
newsgroup
)
;
}
public
String
getDate
(
)
{
return
date
;
}
public
String
getDistributions
(
)
{
return
distributions
==
null
?
null
:
distributions
.
toString
(
)
;
}
public
String
getNewsgroups
(
)
{
return
newsgroups
==
null
?
null
:
newsgroups
.
toString
(
)
;
}
public
String
getTime
(
)
{
return
time
;
}
public
boolean
isGMT
(
)
{
return
isGMT
;
}
public
void
omitNewsgroup
(
final
String
newsgroup
)
{
addNewsgroup
(
"!"
+
newsgroup
)
;
}
}
<EOF>
