package
org
.
apache
.
commons
.
net
;
import
java
.
net
.
InetSocketAddress
;
import
java
.
net
.
Proxy
;
import
org
.
apache
.
commons
.
net
.
ftp
.
FTPClient
;
import
junit
.
framework
.
TestCase
;
public
class
SocketClientFunctionalTest
extends
TestCase
{
private
static
final
String
PROXY_HOST
=
"127.0.0.1"
;
private
static
final
int
PROXY_PORT
=
9050
;
private
static
final
String
DEST_HOST
=
"ftp.gnu.org"
;
private
static
final
int
DEST_PORT
=
21
;
SocketClient
sc
=
new
FTPClient
(
)
;
public
SocketClientFunctionalTest
(
final
String
name
)
{
super
(
name
)
;
}
public
void
testProxySettings
(
)
throws
Exception
{
final
Proxy
proxy
=
new
Proxy
(
Proxy
.
Type
.
SOCKS
,
new
InetSocketAddress
(
PROXY_HOST
,
PROXY_PORT
)
)
;
sc
.
setProxy
(
proxy
)
;
sc
.
connect
(
DEST_HOST
,
DEST_PORT
)
;
assertTrue
(
sc
.
isConnected
(
)
)
;
sc
.
disconnect
(
)
;
}
}
<EOF>
