package
com
.
fasterxml
.
jackson
.
dataformat
.
xml
.
misc
;
import
java
.
util
.
Map
;
import
com
.
fasterxml
.
jackson
.
databind
.
ObjectMapper
;
import
com
.
fasterxml
.
jackson
.
dataformat
.
xml
.
XmlTestBase
;
public
class
BadEncodingTest
extends
XmlTestBase
{
private
static
final
String
xml
=
"<?xml version='1.0' encoding='WINDOWS-1252'?><x/>"
;
private
final
ObjectMapper
XML_MAPPER
=
newMapper
(
)
;
public
void
testEncoding
(
)
throws
Exception
{
final
byte
[
]
b
=
xml
.
getBytes
(
"UTF-8"
)
;
assertNotNull
(
XML_MAPPER
.
readValue
(
b
,
Map
.
class
)
)
;
}
}
<EOF>
