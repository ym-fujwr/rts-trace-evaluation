package
org
.
apache
.
commons
.
cli
.
bug
;
import
static
org
.
junit
.
Assert
.
assertEquals
;
import
org
.
apache
.
commons
.
cli
.
CommandLine
;
import
org
.
apache
.
commons
.
cli
.
CommandLineParser
;
import
org
.
apache
.
commons
.
cli
.
OptionBuilder
;
import
org
.
apache
.
commons
.
cli
.
Options
;
import
org
.
apache
.
commons
.
cli
.
PosixParser
;
import
org
.
junit
.
Before
;
import
org
.
junit
.
Test
;
@
SuppressWarnings
(
"deprecation"
)
public
class
BugCLI148Test
{
private
Options
options
;
@
Before
public
void
setUp
(
)
throws
Exception
{
options
=
new
Options
(
)
;
options
.
addOption
(
OptionBuilder
.
hasArg
(
)
.
create
(
't'
)
)
;
options
.
addOption
(
OptionBuilder
.
hasArg
(
)
.
create
(
's'
)
)
;
}
@
Test
public
void
testWorkaround1
(
)
throws
Exception
{
final
CommandLineParser
parser
=
new
PosixParser
(
)
;
final
String
[
]
args
=
{
"-t-something"
}
;
final
CommandLine
commandLine
=
parser
.
parse
(
options
,
args
)
;
assertEquals
(
"-something"
,
commandLine
.
getOptionValue
(
't'
)
)
;
}
@
Test
public
void
testWorkaround2
(
)
throws
Exception
{
final
CommandLineParser
parser
=
new
PosixParser
(
)
;
final
String
[
]
args
=
{
"-t"
,
"\"-something\""
}
;
final
CommandLine
commandLine
=
parser
.
parse
(
options
,
args
)
;
assertEquals
(
"-something"
,
commandLine
.
getOptionValue
(
't'
)
)
;
}
}
<EOF>
