diff --git a/src/main/java/org/apache/commons/cli/HelpFormatter.java b/src/main/java/org/apache/commons/cli/HelpFormatter.java
index 7a1b7900..b8ef6704 100644
--- a/src/main/java/org/apache/commons/cli/HelpFormatter.java
+++ b/src/main/java/org/apache/commons/cli/HelpFormatter.java
@@ -151,4 +151,4 @@ public class HelpFormatter {
-    * the new line string
-    *
-    * @deprecated Scope will be made private for next major version - use get/setNewLine methods instead.
-    */
+     * the new line string
+     *
+     * @deprecated Scope will be made private for next major version - use get/setNewLine methods instead.
+     */
@@ -156 +156 @@ public class HelpFormatter {
-    public String defaultNewLine = System.lineSeparator();
+    public String defaultNewLine = System.getProperty("line.separator");
diff --git a/src/test/java/org/apache/commons/cli/AbstractParserTestCase.java b/src/test/java/org/apache/commons/cli/AbstractParserTestCase.java
index bb992379..36affcc7 100644
--- a/src/test/java/org/apache/commons/cli/AbstractParserTestCase.java
+++ b/src/test/java/org/apache/commons/cli/AbstractParserTestCase.java
@@ -489 +489 @@ public abstract class AbstractParserTestCase {
-
+    
@@ -1024 +1024 @@ public abstract class AbstractParserTestCase {
-
+    
@@ -1029 +1029 @@ public abstract class AbstractParserTestCase {
-
+        
diff --git a/src/test/java/org/apache/commons/cli/ApplicationTest.java b/src/test/java/org/apache/commons/cli/ApplicationTest.java
index 952d36e5..32079c77 100644
--- a/src/test/java/org/apache/commons/cli/ApplicationTest.java
+++ b/src/test/java/org/apache/commons/cli/ApplicationTest.java
@@ -230 +230 @@ public class ApplicationTest {
-        final String eol = System.lineSeparator();
+        final String eol = System.getProperty("line.separator");
diff --git a/src/test/java/org/apache/commons/cli/HelpFormatterTest.java b/src/test/java/org/apache/commons/cli/HelpFormatterTest.java
index 5c9264eb..abeb4321 100644
--- a/src/test/java/org/apache/commons/cli/HelpFormatterTest.java
+++ b/src/test/java/org/apache/commons/cli/HelpFormatterTest.java
@@ -26,0 +27 @@ import java.io.StringWriter;
+import java.util.Comparator;
@@ -34 +35 @@ public class HelpFormatterTest {
-    private static final String EOL = System.lineSeparator();
+    private static final String EOL = System.getProperty("line.separator");
@@ -273 +274 @@ public class HelpFormatterTest {
-        final String eol = System.lineSeparator();
+        final String eol = System.getProperty("line.separator");
@@ -472 +473,7 @@ public class HelpFormatterTest {
-        helpFormatter.setOptionComparator((opt1, opt2) -> opt2.getKey().compareToIgnoreCase(opt1.getKey()));
+        helpFormatter.setOptionComparator(new Comparator<Option>() {
+            @Override
+            public int compare(final Option opt1, final Option opt2) {
+                // reverses the functionality of the default comparator
+                return opt2.getKey().compareToIgnoreCase(opt1.getKey());
+            }
+        });
diff --git a/src/test/java/org/apache/commons/cli/bug/BugCLI162Test.java b/src/test/java/org/apache/commons/cli/bug/BugCLI162Test.java
index db37aacd..3123d902 100644
--- a/src/test/java/org/apache/commons/cli/bug/BugCLI162Test.java
+++ b/src/test/java/org/apache/commons/cli/bug/BugCLI162Test.java
@@ -36 +36 @@ public class BugCLI162Test {
-    private static final String CR = System.lineSeparator();
+    private static final String CR = System.getProperty("line.separator");
