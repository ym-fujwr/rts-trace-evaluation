package
org
.
apache
.
commons
.
jxpath
.
ri
.
model
;
import
org
.
apache
.
commons
.
jxpath
.
JXPathContext
;
import
org
.
apache
.
commons
.
jxpath
.
JXPathTestCase
;
import
org
.
apache
.
commons
.
jxpath
.
xml
.
DocumentContainer
;
public
class
XMLUpperCaseElementsTest
extends
JXPathTestCase
{
protected
JXPathContext
context
;
protected
DocumentContainer
createDocumentContainer
(
String
model
)
{
return
new
DocumentContainer
(
JXPathTestCase
.
class
.
getResource
(
"VendorUpper.xml"
)
,
model
)
;
}
protected
JXPathContext
createContext
(
String
model
)
{
JXPathContext
context
=
JXPathContext
.
newContext
(
createDocumentContainer
(
model
)
)
;
return
context
;
}
protected
void
doTest
(
String
id
,
String
model
,
String
expectedValue
)
{
JXPathContext
context
=
JXPathContext
.
newContext
(
createDocumentContainer
(
model
)
)
;
assertEquals
(
context
.
getValue
(
"test/text[@id='"
+
id
+
"']"
)
,
expectedValue
)
;
}
public
void
testBasicGetDOM
(
)
{
assertXPathValue
(
createContext
(
DocumentContainer
.
MODEL_DOM
)
,
"/Vendor[1]/Contact[1]"
,
"John"
)
;
}
public
void
testBasicGetJDOM
(
)
{
assertXPathValue
(
createContext
(
DocumentContainer
.
MODEL_JDOM
)
,
"/Vendor[1]/Contact[1]"
,
"John"
)
;
}
public
void
testBasicIterateDOM
(
)
{
assertXPathValueIterator
(
createContext
(
DocumentContainer
.
MODEL_DOM
)
,
"/Vendor/Contact"
,
list
(
"John"
,
"Jack"
,
"Jim"
,
"Jack Black"
)
)
;
}
public
void
testBasicIterateJDOM
(
)
{
assertXPathValueIterator
(
createContext
(
DocumentContainer
.
MODEL_JDOM
)
,
"/Vendor/Contact"
,
list
(
"John"
,
"Jack"
,
"Jim"
,
"Jack Black"
)
)
;
}
}
<EOF>
