package
org
.
apache
.
commons
.
jxpath
.
ri
.
model
.
dynabeans
;
import
org
.
apache
.
commons
.
beanutils
.
LazyDynaBean
;
import
org
.
apache
.
commons
.
jxpath
.
JXPathContext
;
import
org
.
apache
.
commons
.
jxpath
.
JXPathNotFoundException
;
import
org
.
apache
.
commons
.
jxpath
.
JXPathTestCase
;
import
org
.
apache
.
commons
.
jxpath
.
ri
.
JXPathContextReferenceImpl
;
public
class
LazyDynaBeanTest
extends
JXPathTestCase
{
public
void
testLazyProperty
(
)
throws
JXPathNotFoundException
{
LazyDynaBean
bean
=
new
LazyDynaBean
(
)
;
JXPathContext
context
=
JXPathContext
.
newContext
(
bean
)
;
context
.
getValue
(
"nosuch"
)
;
}
public
void
testStrictLazyDynaBeanPropertyFactory
(
)
{
final
StrictLazyDynaBeanPointerFactory
factory
=
new
StrictLazyDynaBeanPointerFactory
(
)
;
JXPathContextReferenceImpl
.
addNodePointerFactory
(
factory
)
;
try
{
testLazyProperty
(
)
;
fail
(
)
;
}
catch
(
JXPathNotFoundException
e
)
{
}
finally
{
while
(
JXPathContextReferenceImpl
.
removeNodePointerFactory
(
factory
)
)
;
}
}
}
<EOF>
