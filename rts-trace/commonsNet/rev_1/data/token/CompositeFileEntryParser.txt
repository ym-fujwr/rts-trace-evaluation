package
org
.
apache
.
commons
.
net
.
ftp
.
parser
;
import
org
.
apache
.
commons
.
net
.
ftp
.
FTPFile
;
import
org
.
apache
.
commons
.
net
.
ftp
.
FTPFileEntryParser
;
import
org
.
apache
.
commons
.
net
.
ftp
.
FTPFileEntryParserImpl
;
public
class
CompositeFileEntryParser
extends
FTPFileEntryParserImpl
{
private
final
FTPFileEntryParser
[
]
ftpFileEntryParsers
;
private
FTPFileEntryParser
cachedFtpFileEntryParser
;
public
CompositeFileEntryParser
(
final
FTPFileEntryParser
[
]
ftpFileEntryParsers
)
{
this
.
cachedFtpFileEntryParser
=
null
;
this
.
ftpFileEntryParsers
=
ftpFileEntryParsers
;
}
@
Override
public
FTPFile
parseFTPEntry
(
final
String
listEntry
)
{
if
(
cachedFtpFileEntryParser
!=
null
)
{
return
cachedFtpFileEntryParser
.
parseFTPEntry
(
listEntry
)
;
}
for
(
final
FTPFileEntryParser
ftpFileEntryParser
:
ftpFileEntryParsers
)
{
final
FTPFile
matched
=
ftpFileEntryParser
.
parseFTPEntry
(
listEntry
)
;
if
(
matched
!=
null
)
{
cachedFtpFileEntryParser
=
ftpFileEntryParser
;
return
matched
;
}
}
return
null
;
}
}
<EOF>
