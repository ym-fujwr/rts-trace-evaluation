package
org
.
apache
.
commons
.
net
;
import
java
.
io
.
IOException
;
import
java
.
io
.
Serializable
;
import
java
.
util
.
EventListener
;
import
org
.
apache
.
commons
.
net
.
util
.
ListenerList
;
public
class
ProtocolCommandSupport
implements
Serializable
{
private
static
final
long
serialVersionUID
=
-
8017692739988399978L
;
private
final
Object
source
;
private
final
ListenerList
listeners
;
public
ProtocolCommandSupport
(
final
Object
source
)
{
this
.
listeners
=
new
ListenerList
(
)
;
this
.
source
=
source
;
}
public
void
addProtocolCommandListener
(
final
ProtocolCommandListener
listener
)
{
listeners
.
addListener
(
listener
)
;
}
public
void
fireCommandSent
(
final
String
command
,
final
String
message
)
{
final
ProtocolCommandEvent
event
;
event
=
new
ProtocolCommandEvent
(
source
,
command
,
message
)
;
for
(
final
EventListener
listener
:
listeners
)
{
(
(
ProtocolCommandListener
)
listener
)
.
protocolCommandSent
(
event
)
;
}
}
public
void
fireReplyReceived
(
final
int
replyCode
,
final
String
message
)
{
final
ProtocolCommandEvent
event
;
event
=
new
ProtocolCommandEvent
(
source
,
replyCode
,
message
)
;
for
(
final
EventListener
listener
:
listeners
)
{
(
(
ProtocolCommandListener
)
listener
)
.
protocolReplyReceived
(
event
)
;
}
}
public
int
getListenerCount
(
)
{
return
listeners
.
getListenerCount
(
)
;
}
private
void
readObject
(
final
java
.
io
.
ObjectInputStream
in
)
throws
IOException
,
ClassNotFoundException
{
throw
new
UnsupportedOperationException
(
"Serialization is not supported"
)
;
}
public
void
removeProtocolCommandListener
(
final
ProtocolCommandListener
listener
)
{
listeners
.
removeListener
(
listener
)
;
}
private
void
writeObject
(
final
java
.
io
.
ObjectOutputStream
out
)
throws
IOException
{
throw
new
UnsupportedOperationException
(
"Serialization is not supported"
)
;
}
}
<EOF>
