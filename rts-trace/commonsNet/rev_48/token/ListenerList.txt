package
org
.
apache
.
commons
.
net
.
util
;
import
java
.
io
.
IOException
;
import
java
.
io
.
ObjectInputStream
;
import
java
.
io
.
ObjectOutputStream
;
import
java
.
io
.
Serializable
;
import
java
.
util
.
EventListener
;
import
java
.
util
.
Iterator
;
import
java
.
util
.
concurrent
.
CopyOnWriteArrayList
;
public
class
ListenerList
implements
Serializable
,
Iterable
<
EventListener
>
{
private
static
final
long
serialVersionUID
=
-
1934227607974228213L
;
private
final
CopyOnWriteArrayList
<
EventListener
>
listeners
;
public
ListenerList
(
)
{
listeners
=
new
CopyOnWriteArrayList
<
>
(
)
;
}
public
void
addListener
(
final
EventListener
listener
)
{
listeners
.
add
(
listener
)
;
}
public
int
getListenerCount
(
)
{
return
listeners
.
size
(
)
;
}
@
Override
public
Iterator
<
EventListener
>
iterator
(
)
{
return
listeners
.
iterator
(
)
;
}
private
void
readObject
(
final
ObjectInputStream
in
)
throws
IOException
,
ClassNotFoundException
{
throw
new
UnsupportedOperationException
(
"Serialization is not supported"
)
;
}
public
void
removeListener
(
final
EventListener
listener
)
{
listeners
.
remove
(
listener
)
;
}
private
void
writeObject
(
final
ObjectOutputStream
out
)
throws
IOException
{
throw
new
UnsupportedOperationException
(
"Serialization is not supported"
)
;
}
}
<EOF>
