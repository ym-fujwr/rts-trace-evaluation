diff --git a/src/main/java/org/apache/commons/net/bsd/RCommandClient.java b/src/main/java/org/apache/commons/net/bsd/RCommandClient.java
index 909d9ce93..dcb5a370a 100644
--- a/src/main/java/org/apache/commons/net/bsd/RCommandClient.java
+++ b/src/main/java/org/apache/commons/net/bsd/RCommandClient.java
@@ -222 +221,0 @@ public class RCommandClient extends RExecClient {
-        ServerSocket server;
@@ -226 +225 @@ public class RCommandClient extends RExecClient {
-        server = null;
+        ServerSocket server = null;
diff --git a/src/main/java/org/apache/commons/net/bsd/RExecClient.java b/src/main/java/org/apache/commons/net/bsd/RExecClient.java
index 1c8ce9309..bce823c87 100644
--- a/src/main/java/org/apache/commons/net/bsd/RExecClient.java
+++ b/src/main/java/org/apache/commons/net/bsd/RExecClient.java
@@ -82 +81,0 @@ public class RExecClient extends SocketClient {
-        final ServerSocket server;
@@ -85,8 +84,6 @@ public class RExecClient extends SocketClient {
-        server = _serverSocketFactory_.createServerSocket(0, 1, getLocalAddress());
-
-        _output_.write(Integer.toString(server.getLocalPort()).getBytes(StandardCharsets.UTF_8)); // $NON-NLS-1$
-        _output_.write(NULL_CHAR);
-        _output_.flush();
-
-        socket = server.accept();
-        server.close();
+        try (final ServerSocket server = _serverSocketFactory_.createServerSocket(0, 1, getLocalAddress())) {
+            _output_.write(Integer.toString(server.getLocalPort()).getBytes(StandardCharsets.UTF_8)); // $NON-NLS-1$
+            _output_.write(NULL_CHAR);
+            _output_.flush();
+            socket = server.accept();
+        }
diff --git a/src/main/java/org/apache/commons/net/io/SocketInputStream.java b/src/main/java/org/apache/commons/net/io/SocketInputStream.java
index f21eb40d8..f38c33215 100644
--- a/src/main/java/org/apache/commons/net/io/SocketInputStream.java
+++ b/src/main/java/org/apache/commons/net/io/SocketInputStream.java
@@ -30 +29,0 @@ import java.net.Socket;
- *
@@ -33 +31,0 @@ import java.net.Socket;
-
