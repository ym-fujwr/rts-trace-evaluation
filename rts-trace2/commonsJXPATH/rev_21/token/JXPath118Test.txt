package
org
.
apache
.
commons
.
jxpath
.
issues
;
import
java
.
util
.
Iterator
;
import
junit
.
framework
.
Assert
;
import
junit
.
framework
.
TestCase
;
import
org
.
apache
.
commons
.
jxpath
.
JXPathContext
;
import
org
.
apache
.
commons
.
jxpath
.
Pointer
;
public
class
JXPath118Test
extends
TestCase
{
public
void
testJXPATH118IssueWithAsPath
(
)
throws
Exception
{
final
Object
contextBean
=
new
SomeChildClass
(
)
;
final
JXPathContext
context
=
JXPathContext
.
newContext
(
contextBean
)
;
final
Iterator
iteratePointers
=
context
.
iteratePointers
(
"//*"
)
;
Assert
.
assertEquals
(
"/bar"
,
(
(
Pointer
)
iteratePointers
.
next
(
)
)
.
asPath
(
)
)
;
Assert
.
assertEquals
(
"/baz"
,
(
(
Pointer
)
iteratePointers
.
next
(
)
)
.
asPath
(
)
)
;
Assert
.
assertEquals
(
"/foo"
,
(
(
Pointer
)
iteratePointers
.
next
(
)
)
.
asPath
(
)
)
;
}
public
static
class
SomeChildClass
{
private
int
foo
=
1
;
private
int
bar
=
2
;
private
int
baz
=
3
;
public
int
getFoo
(
)
{
return
foo
;
}
public
void
setFoo
(
final
int
foo
)
{
this
.
foo
=
foo
;
}
public
int
getBar
(
)
{
return
bar
;
}
public
void
setBar
(
final
int
bar
)
{
this
.
bar
=
bar
;
}
public
int
getBaz
(
)
{
return
baz
;
}
public
void
setBaz
(
final
int
baz
)
{
this
.
baz
=
baz
;
}
}
}
<EOF>
