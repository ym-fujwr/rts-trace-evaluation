package
org
.
apache
.
commons
.
jxpath
.
ri
.
model
;
import
java
.
util
.
Collection
;
import
org
.
apache
.
commons
.
jxpath
.
JXPathContext
;
import
org
.
apache
.
commons
.
jxpath
.
JXPathTestCase
;
import
org
.
apache
.
commons
.
jxpath
.
xml
.
DocumentContainer
;
public
class
AliasedNamespaceIterationTest
extends
JXPathTestCase
{
protected
JXPathContext
context
;
protected
DocumentContainer
createDocumentContainer
(
final
String
model
)
{
final
DocumentContainer
result
=
new
DocumentContainer
(
JXPathTestCase
.
class
.
getResource
(
"IterateAliasedNS.xml"
)
,
model
)
;
return
result
;
}
protected
JXPathContext
createContext
(
final
String
model
)
{
final
JXPathContext
context
=
JXPathContext
.
newContext
(
createDocumentContainer
(
model
)
)
;
context
.
registerNamespace
(
"a"
,
"ns"
)
;
return
context
;
}
protected
void
doTestIterate
(
final
String
xpath
,
final
String
model
,
final
Collection
expected
)
{
assertXPathPointerIterator
(
createContext
(
model
)
,
xpath
,
expected
)
;
}
protected
void
doTestIterate
(
final
String
model
)
{
assertXPathPointerIterator
(
createContext
(
model
)
,
"/a:doc/a:elem"
,
list
(
"/a:doc[1]/a:elem[1]"
,
"/a:doc[1]/a:elem[2]"
)
)
;
}
public
void
testIterateDOM
(
)
{
doTestIterate
(
DocumentContainer
.
MODEL_DOM
)
;
}
public
void
testIterateJDOM
(
)
{
doTestIterate
(
DocumentContainer
.
MODEL_JDOM
)
;
}
}
<EOF>
