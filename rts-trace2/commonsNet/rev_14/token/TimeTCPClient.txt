package
org
.
apache
.
commons
.
net
.
time
;
import
java
.
io
.
DataInputStream
;
import
java
.
io
.
IOException
;
import
java
.
util
.
Date
;
import
org
.
apache
.
commons
.
net
.
SocketClient
;
public
final
class
TimeTCPClient
extends
SocketClient
{
public
static
final
int
DEFAULT_PORT
=
37
;
public
static
final
long
SECONDS_1900_TO_1970
=
2208988800L
;
public
TimeTCPClient
(
)
{
setDefaultPort
(
DEFAULT_PORT
)
;
}
public
Date
getDate
(
)
throws
IOException
{
return
new
Date
(
(
getTime
(
)
-
SECONDS_1900_TO_1970
)
*
1000L
)
;
}
public
long
getTime
(
)
throws
IOException
{
final
DataInputStream
input
;
input
=
new
DataInputStream
(
_input_
)
;
return
input
.
readInt
(
)
&
0xffffffffL
;
}
}
<EOF>
